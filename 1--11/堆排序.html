<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript">
		window.onload(){
		var arr=[9,8,7,6,5,4,3,2,1];

		function duipaixu(arr){
            // 1.构建大顶堆
            for(var i=arr.length-1/2-1;i>=0;i--){
            	adjust(arr,i,arr.length);
            }
            //2.调整堆结构+交换堆顶元素与末尾元素
            for(var j=arr.length-1;j>0;j--){
            	exchange(arr,0,j);//将堆顶元素与末尾元素进行交换
            	adjust(arr,0,j);//重新对堆进行调整
            }
            return arr;

		}

		function adjust(arr,i,length){
			var temp=arr[i];//保存当前元素
			for(int k=i*2+1;k<length;k=k*2+1){
				if(k+1<length && arr[k]<arr[k+1]){
					k++;
				}
				if(arr[k]> temp){
					arr[i]=arr[k];
					i=k;
				}else{
					break;
				}

			}
			arr[i]=temp;
		}
		function exchange(arr,a,b){
			int temp=arr[a];
			arr[a]=arr[b];
			arr[b]=temp;

		}
		console.log(duipaixu(arr));


	}
	</script>
</head>
<body>
	
</body>
</html>